## Tutorial Laravel Sanctum 

1. Install dengan perintah : `composer require laravel/sanctum`
2. Publish dengan perintah : `php artisan vendor:publish --provider="Laravel\Sanctum\SanctumServiceProvider"`
3. Migrate dengan perintah : `php artisan migrate`

> Jika ingin menggunakan Sanctum dengan mode SPA, jalankan perintah berikut :

```php
use Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful;

'api' => [
    EnsureFrontendRequestsAreStateful::class,
    'throttle:60,1',
    \Illuminate\Routing\Middleware\SubstituteBindings::class,
],
```

# Sanctum SPA Authentication 

Dengan mode ini, sanctum tidak memberikan token autentikasi, melainkan dengan session autentikasi. 

- `Laravel's built-in cookie based session authentication services.`

Kelebihan dari SPA Auth adalah : 

- `CSRF protection, session authentication, as well as protects against leakage of the authentication credentials via XSS.`

- `Sanctum will only attempt to authenticate using cookies when the incoming request originates from your own SPA frontend.`

- Tips Settings .env :

```php
SESSION_DRIVER=cookie

// FrontEnd Domain
SANCTUM_STATEFUL_DOMAINS=localhost:8081

// Backend Domain
SESSION_DOMAIN=.localhost,api.domain.com

//jalankan server laravel dengan domain Localhost
php artisan serve --host=localhost --port=8080
//jalankan server frontend dengan domain Localhost port 8081
npm run serve
```






